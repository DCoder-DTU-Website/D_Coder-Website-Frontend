{"ast":null,"code":"var _jsxFileName = \"/home/vaibhav/Documents/Development/D_Coder-Website-Frontend/src/pages/admin/pages/Forms/components/NewFormAddCard.js\",\n    _s = $RefreshSig$();\n\nimport _styled from \"styled-components\";\nimport React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Upload from \"../../../../../components/features/Upload/Upload\";\nimport api from \"../../../../../api/apiClient\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport \"./NewFormAddCard.css\";\nimport { isMobile } from \"react-device-detect\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport formurlencoded from \"form-urlencoded\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SubmitButton = _styled.button({\n  \"width\": \"100%\",\n  \"marginTop\": \"1.5rem\",\n  \"paddingTop\": \"0.75rem\",\n  \"paddingBottom\": \"0.75rem\",\n  \"--bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(49, 130, 206, var(--bg-opacity))\",\n  \"--text-opacity\": \"1\",\n  \"color\": \"rgba(255, 255, 255, var(--text-opacity))\",\n  \"borderRadius\": \"0.5rem\",\n  \"letterSpacing\": \"0.025em\",\n  \"textTransform\": \"uppercase\",\n  \"fontSize\": \"0.875rem\",\n  \"transitionProperty\": \"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform\",\n  \"transitionDuration\": \"300ms\",\n  \"--transform-translate-x\": \"0\",\n  \"--transform-translate-y\": \"0\",\n  \"--transform-rotate\": \"0\",\n  \"--transform-skew-x\": \"0\",\n  \"--transform-skew-y\": \"0\",\n  \"--transform-scale-x\": \"1\",\n  \"--transform-scale-y\": \"1\",\n  \"transform\": \"translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y))\",\n  \":focus\": {\n    \"outline\": \"2px solid transparent\",\n    \"outlineOffset\": \"2px\",\n    \"boxShadow\": \"0 0 0 3px rgba(66, 153, 225, 0.5)\"\n  },\n  \":hover\": {\n    \"--bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(44, 82, 130, var(--bg-opacity))\",\n    \"--text-opacity\": \"1\",\n    \"color\": \"rgba(255, 255, 255, var(--text-opacity))\"\n  },\n  \":hover, :focus\": {\n    \"--transform-translate-y\": \"-1px\",\n    \"boxShadow\": \"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)\"\n  },\n  \"@media (min-width: 640px)\": {\n    \"width\": \"8rem\"\n  }\n});\n\n_c = SubmitButton;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    \"& .MuiTextField-root\": {\n      margin: theme.spacing(1)\n    }\n  }\n}));\nconst validationSchema = Yup.object().shape({\n  title: Yup.string().required().max(30).matches(/^[a-z0-9 ]+$/i, \"Form Title must be alpha-numeric.\").label(\"Title\"),\n  desc: Yup.string().required().min(20).max(500).label(\"Description\"),\n  form_url: Yup.string().required().label(\"Google Form Embed Url\"),\n  response_url: Yup.string().required().label(\"Response Sheet Url\")\n});\nexport default function MultilineTextFields() {\n  _s();\n\n  const classes = useStyles(); // const [title, setTitle] = useState(\"\");\n  // const [desc, setDesc] = useState(\"\");\n  // const [form_url, setFormUrl] = useState(\"\");\n  // const [response_url, setResponseUrl] = useState(\"\");\n\n  const [images, setImages] = useState([]);\n  const [deadline, setDeadline] = useState(\"\");\n  const [loading, setLoading] = useState(false); // const handleDateChange = (date) => {\n  //   setDeadline(date);\n  // };\n\n  const uploadImage = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", images[0].file);\n      formData.append(\"upload_preset\", \"gekvwtzt\");\n      const res = await axios.post(\"https://api.cloudinary.com/v1_1/dcoderdtu/image/upload\", formData);\n      setImages([]);\n      console.log(res.data.url);\n      return res.data.url;\n    } catch (err) {\n      console.error(err, \"Image Upload Failed!\");\n    }\n  };\n\n  const clickSubmit = async () => {\n    try {\n      setLoading(true);\n      let form = formik.values;\n      formik.resetForm();\n      const imageUrl = await uploadImage();\n      form = { ...form,\n        image: imageUrl\n      };\n      await api.post(\"/forms/add\", formurlencoded(form));\n      swal({\n        title: \"Form Uploaded Successfully!\",\n        icon: \"success\",\n        buttons: true,\n        closeOnClickOutside: true,\n        closeOnEsc: true\n      });\n      setLoading(false);\n    } catch (err) {\n      console.log(err, \"Upload Failed\");\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      title: \"\",\n      desc: \"\",\n      form_url: \"\",\n      response_url: \"\",\n      deadline: \"\",\n      image: \"\"\n    },\n    validationSchema: validationSchema,\n    onSubmit: clickSubmit\n  });\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    className: \"inside-mobile-view\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: formik.handleSubmit,\n        method: \"POST\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"full-container\",\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            width: \"100%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inner-sections mobile-view-form\",\n            id: \"inner-sections1\",\n            style: {\n              display: \"flex\",\n              padding: \"10px\",\n              margin: \"10px\",\n              width: \"100%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"two-column-sections\",\n              id: \"section1\",\n              style: {\n                padding: \"10px\",\n                margin: \"10px\",\n                justifyContent: \"space-between\",\n                width: \"100%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                style: {\n                  margin: \"6px 0px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"input\",\n                  id: \"title\",\n                  placeholder: \"E.g. Senior Se Mulaqat\",\n                  name: \"title\",\n                  variant: \"outlined\",\n                  fullWidth: true,\n                  onChange: formik.handleChange,\n                  value: formik.values.title,\n                  error: formik.touched.title && Boolean(formik.errors.title),\n                  helperText: formik.touched.title && formik.errors.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                style: {\n                  margin: \"6px 0px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"outlined-textarea\",\n                  label: \"Description\",\n                  multiline: true,\n                  variant: \"outlined\",\n                  rows: isMobile ? 2 : 6,\n                  placeholder: \"Eg. ABC\",\n                  name: \"desc\",\n                  fullWidth: true,\n                  value: formik.values.desc,\n                  onChange: formik.handleChange,\n                  error: formik.touched.desc && Boolean(formik.errors.desc),\n                  helperText: formik.touched.desc && formik.errors.desc\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                style: {\n                  margin: \"6px 0px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"input\",\n                  id: \"outlined-textarea\",\n                  label: \"Google Form Link\",\n                  placeholder: \"E.g. Google Forms Registration Link\",\n                  multiline: true,\n                  name: \"form_url\",\n                  variant: \"outlined\",\n                  fullWidth: true,\n                  onChange: formik.handleChange,\n                  value: formik.values.form_url,\n                  error: formik.touched.form_url && Boolean(formik.errors.form_url),\n                  helperText: formik.touched.form_url && formik.errors.form_url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                style: {\n                  margin: \"6px 0px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  type: \"input\",\n                  id: \"outlined-textarea\",\n                  label: \"Response Sheet Link\",\n                  placeholder: \"E.g. Google Sheets Link\",\n                  multiline: true,\n                  name: \"response_url\",\n                  variant: \"outlined\",\n                  fullWidth: true,\n                  onChange: formik.handleChange,\n                  value: formik.values.response_url,\n                  error: formik.touched.response_url && Boolean(formik.errors.response_url),\n                  helperText: formik.touched.response_url && formik.errors.response_url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"two-column-sections\",\n              id: \"section2\",\n              style: {\n                padding: \"10px\",\n                margin: \"10px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  height: \"100%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    id: \"date\",\n                    label: \"Deadline\",\n                    type: \"date\",\n                    name: \"deadline\",\n                    className: classes.textField,\n                    InputLabelProps: {\n                      shrink: true\n                    },\n                    onChange: e => setDeadline(e.target.value),\n                    value: deadline\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    marginTop: \"35px\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Upload, {\n                    images: images,\n                    setImages: setImages\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inner-sections\",\n            id: \"inner-sections2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              width: \"100%\"\n            },\n            children: /*#__PURE__*/_jsxDEV(SubmitButton, {\n              disabled: loading,\n              className: \"mob-sub-btn\",\n              type: \"submit\",\n              children: \"Upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MultilineTextFields, \"eSzqpWra8Nuw1fRU7ny1S76A+Yk=\", false, function () {\n  return [useStyles, useFormik];\n});\n\n_c2 = MultilineTextFields;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SubmitButton\");\n$RefreshReg$(_c2, \"MultilineTextFields\");","map":{"version":3,"sources":["/home/vaibhav/Documents/Development/D_Coder-Website-Frontend/src/pages/admin/pages/Forms/components/NewFormAddCard.js"],"names":["React","useState","makeStyles","TextField","Grid","Upload","api","axios","swal","isMobile","useFormik","Yup","formurlencoded","SubmitButton","button","useStyles","theme","root","margin","spacing","validationSchema","object","shape","title","string","required","max","matches","label","desc","min","form_url","response_url","MultilineTextFields","classes","images","setImages","deadline","setDeadline","loading","setLoading","uploadImage","formData","FormData","append","file","res","post","console","log","data","url","err","error","clickSubmit","form","formik","values","resetForm","imageUrl","image","icon","buttons","closeOnClickOutside","closeOnEsc","initialValues","onSubmit","display","flexDirection","handleSubmit","width","padding","justifyContent","handleChange","touched","Boolean","errors","alignItems","height","textField","shrink","e","target","value","marginTop"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport tw from \"twin.macro\";\nimport Upload from \"../../../../../components/features/Upload/Upload\";\n\nimport api from \"../../../../../api/apiClient\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport \"./NewFormAddCard.css\";\nimport { isMobile } from \"react-device-detect\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport formurlencoded from \"form-urlencoded\";\n\nconst SubmitButton = tw.button`w-full sm:w-32 mt-6 py-3 bg-blue-600 text-white rounded-lg tracking-wide uppercase text-sm transition duration-300 transform focus:outline-none focus:shadow-outline hover:bg-blue-800 hover:text-white hocus:-translate-y-px hocus:shadow-xl`;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& .MuiTextField-root\": {\n      margin: theme.spacing(1),\n    },\n  },\n}));\n\nconst validationSchema = Yup.object().shape({\n  title: Yup.string()\n    .required()\n    .max(30)\n    .matches(/^[a-z0-9 ]+$/i, \"Form Title must be alpha-numeric.\")\n    .label(\"Title\"),\n  desc: Yup.string().required().min(20).max(500).label(\"Description\"),\n  form_url: Yup.string().required().label(\"Google Form Embed Url\"),\n  response_url: Yup.string().required().label(\"Response Sheet Url\"),\n});\n\nexport default function MultilineTextFields() {\n  const classes = useStyles();\n  // const [title, setTitle] = useState(\"\");\n  // const [desc, setDesc] = useState(\"\");\n  // const [form_url, setFormUrl] = useState(\"\");\n  // const [response_url, setResponseUrl] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [deadline, setDeadline] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  // const handleDateChange = (date) => {\n  //   setDeadline(date);\n  // };\n\n  const uploadImage = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", images[0].file);\n      formData.append(\"upload_preset\", \"gekvwtzt\");\n      const res = await axios.post(\n        \"https://api.cloudinary.com/v1_1/dcoderdtu/image/upload\",\n        formData\n      );\n      setImages([]);\n      console.log(res.data.url);\n      return res.data.url;\n    } catch (err) {\n      console.error(err, \"Image Upload Failed!\");\n    }\n  };\n\n  const clickSubmit = async () => {\n    try {\n      setLoading(true);\n      let form = formik.values;\n      formik.resetForm();\n      const imageUrl = await uploadImage();\n      form = { ...form, image: imageUrl };\n      await api.post(\"/forms/add\", formurlencoded(form));\n      swal({\n        title: \"Form Uploaded Successfully!\",\n        icon: \"success\",\n        buttons: true,\n        closeOnClickOutside: true,\n        closeOnEsc: true,\n      });\n      setLoading(false);\n    } catch (err) {\n      console.log(err, \"Upload Failed\");\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      title: \"\",\n      desc: \"\",\n      form_url: \"\",\n      response_url: \"\",\n      deadline: \"\",\n      image: \"\",\n    },\n    validationSchema: validationSchema,\n    onSubmit: clickSubmit,\n  });\n  return (\n    <Grid className=\"inside-mobile-view\">\n      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n        <form onSubmit={formik.handleSubmit} method=\"POST\">\n          <div\n            className=\"full-container\"\n            style={{ display: \"flex\", flexDirection: \"column\", width: \"100%\" }}\n          >\n            <div\n              className=\"inner-sections mobile-view-form\"\n              id=\"inner-sections1\"\n              style={{\n                display: \"flex\",\n                padding: \"10px\",\n                margin: \"10px\",\n                width: \"100%\",\n              }}\n            >\n              <div\n                className=\"two-column-sections\"\n                id=\"section1\"\n                style={{\n                  padding: \"10px\",\n                  margin: \"10px\",\n                  justifyContent: \"space-between\",\n                  width: \"100%\",\n                }}\n              >\n                <Grid item xs={12} style={{ margin: \"6px 0px\" }}>\n                  <TextField\n                    type=\"input\"\n                    id=\"title\"\n                    placeholder=\"E.g. Senior Se Mulaqat\"\n                    name=\"title\"\n                    variant=\"outlined\"\n                    fullWidth\n                    onChange={formik.handleChange}\n                    value={formik.values.title}\n                    error={formik.touched.title && Boolean(formik.errors.title)}\n                    helperText={formik.touched.title && formik.errors.title}\n                  />\n                </Grid>\n                <Grid item xs={12} style={{ margin: \"6px 0px\" }}>\n                  <TextField\n                    id=\"outlined-textarea\"\n                    label=\"Description\"\n                    multiline\n                    variant=\"outlined\"\n                    rows={isMobile ? 2 : 6}\n                    placeholder=\"Eg. ABC\"\n                    name=\"desc\"\n                    fullWidth\n                    value={formik.values.desc}\n                    onChange={formik.handleChange}\n                    error={formik.touched.desc && Boolean(formik.errors.desc)}\n                    helperText={formik.touched.desc && formik.errors.desc}\n                  />\n                </Grid>\n                <Grid item xs={12} style={{ margin: \"6px 0px\" }}>\n                  <TextField\n                    type=\"input\"\n                    id=\"outlined-textarea\"\n                    label=\"Google Form Link\"\n                    placeholder=\"E.g. Google Forms Registration Link\"\n                    multiline\n                    name=\"form_url\"\n                    variant=\"outlined\"\n                    fullWidth\n                    onChange={formik.handleChange}\n                    value={formik.values.form_url}\n                    error={\n                      formik.touched.form_url && Boolean(formik.errors.form_url)\n                    }\n                    helperText={\n                      formik.touched.form_url && formik.errors.form_url\n                    }\n                  />\n                </Grid>\n                <Grid item xs={12} style={{ margin: \"6px 0px\" }}>\n                  <TextField\n                    type=\"input\"\n                    id=\"outlined-textarea\"\n                    label=\"Response Sheet Link\"\n                    placeholder=\"E.g. Google Sheets Link\"\n                    multiline\n                    name=\"response_url\"\n                    variant=\"outlined\"\n                    fullWidth\n                    onChange={formik.handleChange}\n                    value={formik.values.response_url}\n                    error={\n                      formik.touched.response_url &&\n                      Boolean(formik.errors.response_url)\n                    }\n                    helperText={\n                      formik.touched.response_url && formik.errors.response_url\n                    }\n                  />\n                </Grid>\n              </div>\n              <div\n                className=\"two-column-sections\"\n                id=\"section2\"\n                style={{ padding: \"10px\", margin: \"10px\" }}\n              >\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    height: \"100%\",\n                  }}\n                >\n                  <Grid>\n                    <TextField\n                      id=\"date\"\n                      label=\"Deadline\"\n                      type=\"date\"\n                      name=\"deadline\"\n                      className={classes.textField}\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                      onChange={(e) => setDeadline(e.target.value)}\n                      value={deadline}\n                    />\n                  </Grid>\n                  <div style={{ display: \"flex\", marginTop: \"35px\" }}>\n                    <Upload images={images} setImages={setImages} />\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"inner-sections\" id=\"inner-sections2\"></div>\n          </div>\n          <div>\n            <Grid\n              item\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                width: \"100%\",\n              }}\n            >\n              <SubmitButton\n                disabled={loading}\n                className=\"mob-sub-btn\"\n                type=\"submit\"\n              >\n                Upload\n              </SubmitButton>\n            </Grid>\n          </div>\n        </form>\n      </div>\n    </Grid>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}