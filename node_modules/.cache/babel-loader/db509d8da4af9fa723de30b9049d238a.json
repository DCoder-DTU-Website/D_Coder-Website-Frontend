{"ast":null,"code":"var _jsxFileName = \"/home/vaibhav/Documents/Development/D_Coder-Website-Frontend/src/pages/admin/components/PasswordResetForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport api from \"../../../api/apiClient\";\nimport { useParams } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nimport { Button } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ResetPassForm = () => {\n  _s();\n\n  const [old, setOld] = useState(\"\");\n  const [newPass, setNewPass] = useState(\"\");\n  const [cnfrm, setCnfrm] = useState(\"\");\n  const params = useParams();\n\n  const changePass = async (req, res) => {\n    if (cnfrm !== newPass) {\n      swal({\n        title: \"Password do not match\",\n        icon: \"error\",\n        buttons: true,\n        closeOnClickOutside: true,\n        closeOnEsc: true\n      });\n    } else {\n      const token = params.token;\n      const data = {\n        token: token,\n        oldPassword: old,\n        newPassword: newPass,\n        cnfrmPass: cnfrm\n      };\n      const msg = await api.post(\"/reset\", data);\n      const message = msg.data.message;\n      console.log(message);\n\n      if (message === \"Token is expired\") {\n        const res = await swal({\n          title: message,\n          icon: \"error\",\n          buttons: true,\n          closeOnClickOutside: true,\n          closeOnEsc: true\n        });\n\n        if (res) {\n          window.location.href = \"https://teamdcoder.com/\";\n        }\n      } else if (message === \"Invalid Password\") {\n        swal({\n          title: message,\n          icon: \"error\",\n          buttons: true,\n          closeOnClickOutside: true,\n          closeOnEsc: true\n        });\n      } else {\n        const res = await swal({\n          title: \"Password Changed Succesfully\",\n          icon: \"success\",\n          buttons: true,\n          closeOnClickOutside: true,\n          closeOnEsc: true\n        });\n\n        if (res) {\n          window.location.href = \"https://teamdcoder.com/\";\n        }\n      }\n    }\n  };\n\n  const myStyle = {\n    display: \"flex\",\n    height: \"100vh\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: myStyle,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        backgroundColor: \"white\",\n        padding: \"50px\",\n        borderRadius: \"10px\"\n      },\n      onSubmit: e => e.preventDefault(),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Old Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: old,\n        onChange: e => setOld(e.target.value),\n        style: {\n          marginBottom: \"10px\"\n        },\n        required: true,\n        type: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"New Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: newPass,\n        onChange: e => setNewPass(e.target.value),\n        style: {\n          marginBottom: \"10px\"\n        },\n        type: \"password\",\n        required: true,\n        error: newPass.length < 8 && newPass.length !== 0,\n        helperText: newPass.length < 8 && newPass.length !== 0 && \"Password must be greater than 8 characters.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Confirm New Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: cnfrm,\n        onChange: e => setCnfrm(e.target.value),\n        style: {\n          marginBottom: \"10px\"\n        },\n        required: true,\n        type: \"password\",\n        error: cnfrm.length < 8 && cnfrm.length !== 0,\n        helperText: cnfrm.length < 8 && cnfrm.length !== 0 && \"Password must be greater than 8 characters.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        onClick: changePass,\n        disabled: newPass.length < 8 || cnfrm.length < 8,\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ResetPassForm, \"QLB6xhFAPohSwz12GycbwsUnMaU=\", false, function () {\n  return [useParams];\n});\n\n_c = ResetPassForm;\nexport default ResetPassForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ResetPassForm\");","map":{"version":3,"sources":["/home/vaibhav/Documents/Development/D_Coder-Website-Frontend/src/pages/admin/components/PasswordResetForm.js"],"names":["React","useState","TextField","api","useParams","swal","Button","ResetPassForm","old","setOld","newPass","setNewPass","cnfrm","setCnfrm","params","changePass","req","res","title","icon","buttons","closeOnClickOutside","closeOnEsc","token","data","oldPassword","newPassword","cnfrmPass","msg","post","message","console","log","window","location","href","myStyle","display","height","alignItems","justifyContent","flexDirection","backgroundColor","padding","borderRadius","e","preventDefault","target","value","marginBottom","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport api from \"../../../api/apiClient\";\nimport { useParams } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nimport { Button } from \"@material-ui/core\";\n\nconst ResetPassForm = () => {\n  const [old, setOld] = useState(\"\");\n  const [newPass, setNewPass] = useState(\"\");\n  const [cnfrm, setCnfrm] = useState(\"\");\n  const params = useParams();\n  const changePass = async (req, res) => {\n    if (cnfrm !== newPass) {\n      swal({\n        title: \"Password do not match\",\n        icon: \"error\",\n        buttons: true,\n        closeOnClickOutside: true,\n        closeOnEsc: true,\n      });\n    } else {\n      const token = params.token;\n      const data = {\n        token: token,\n        oldPassword: old,\n        newPassword: newPass,\n        cnfrmPass: cnfrm,\n      };\n      const msg = await api.post(\"/reset\", data);\n      const message = msg.data.message;\n      console.log(message);\n      if (message === \"Token is expired\") {\n        const res = await swal({\n          title: message,\n          icon: \"error\",\n          buttons: true,\n          closeOnClickOutside: true,\n          closeOnEsc: true,\n        });\n        if (res) {\n          window.location.href = \"https://teamdcoder.com/\";\n        }\n      } else if (message === \"Invalid Password\") {\n        swal({\n          title: message,\n          icon: \"error\",\n          buttons: true,\n          closeOnClickOutside: true,\n          closeOnEsc: true,\n        });\n      } else {\n        const res = await swal({\n          title: \"Password Changed Succesfully\",\n          icon: \"success\",\n          buttons: true,\n          closeOnClickOutside: true,\n          closeOnEsc: true,\n        });\n        if (res) {\n          window.location.href = \"https://teamdcoder.com/\";\n        }\n      }\n    }\n  };\n  const myStyle = {\n    display: \"flex\",\n    height: \"100vh\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  };\n  return (\n    <div style={myStyle}>\n      <form\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          backgroundColor: \"white\",\n          padding: \"50px\",\n          borderRadius: \"10px\",\n        }}\n        onSubmit={(e) => e.preventDefault()}\n      >\n        <label>Old Password</label>\n        <TextField\n          value={old}\n          onChange={(e) => setOld(e.target.value)}\n          style={{ marginBottom: \"10px\" }}\n          required\n          type=\"password\"\n        />\n\n        <label>New Password</label>\n        <TextField\n          value={newPass}\n          onChange={(e) => setNewPass(e.target.value)}\n          style={{ marginBottom: \"10px\" }}\n          type=\"password\"\n          required\n          error={newPass.length < 8 && newPass.length !== 0}\n          helperText={\n            newPass.length < 8 &&\n            newPass.length !== 0 &&\n            \"Password must be greater than 8 characters.\"\n          }\n        />\n        <label>Confirm New Password</label>\n        <TextField\n          value={cnfrm}\n          onChange={(e) => setCnfrm(e.target.value)}\n          style={{ marginBottom: \"10px\" }}\n          required\n          type=\"password\"\n          error={cnfrm.length < 8 && cnfrm.length !== 0}\n          helperText={\n            cnfrm.length < 8 &&\n            cnfrm.length !== 0 &&\n            \"Password must be greater than 8 characters.\"\n          }\n        />\n        <Button\n          type=\"submit\"\n          onClick={changePass}\n          disabled={newPass.length < 8 || cnfrm.length < 8}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Submit\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default ResetPassForm;\n"]},"metadata":{},"sourceType":"module"}